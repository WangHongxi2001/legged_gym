# 环境信息

## observation

<img src="http://hongxiwong-pic.oss-cn-beijing.aliyuncs.com/img/image-20220408162947666.png" alt="image-20220408162947666" style="zoom:20%;" />

| 名称           | 内容                                                 | 长度 | 位置  |
| -------------- | ---------------------------------------------------- | ---- | ----- |
| wheel_motion   | 驱动轮水平速度及其积分                               | 4    | 0:4   |
| ang_vel        | 机体坐标系下机体角速度                               | 3    | 4:7   |
| lin_acc        | 机体坐标系下机体运动加速度                           | 3    | 7:10  |
| eular_angle    | 机体航向角、俯仰角、横滚角                           | 3    | 10:13 |
| commandes      | 前进速度及其积分；机体航向、俯仰、横滚姿态；机体高度 | 6    | 13:19 |
| leg_length     | 双腿腿长                                             | 2    | 19:21 |
| leg_alpha      | 双腿角度                                             | 2    | 21:23 |
| leg_length_dot | 双腿腿长变化率                                       | 2    | 23:25 |
| leg_alpha_dot  | 双腿角度变化率                                       | 2    | 25:27 |
| last_action    | 上一动作：驱动轮力矩、左右腿虚拟力                   | 6    | 27:33 |

## reward

| 名称                       | 符号                                          |
| -------------------------- | --------------------------------------------- |
| 驱动轮前进速度及其积分     | $v_w, x_w$                                    |
| 机体角速度                 | $\boldsymbol \omega_b$                        |
| 机体航向角、俯仰角、横滚角 | $\psi,\phi,\gamma$                            |
| 指令前进速度及其积分       | $v^*,x^*$                                     |
| 指令航向、俯仰、横滚姿态   | $\psi^*,\phi^*,\gamma^*$                      |
| 指令高度                   | $h^*$                                         |
| 机体高度及其变化率         | $h,\dot h$                                    |
| 双腿腿长及其变化率         | $\boldsymbol L_0,\dot {\boldsymbol L_0}$      |
| 双腿角度及其变化率         | $\boldsymbol \alpha,\dot{\boldsymbol \alpha}$ |
| 驱动轮力矩                 | $\boldsymbol T$                               |
| 双腿虚拟力                 | $\boldsymbol T_p,\boldsymbol F$               |

| 名称                         | 定义                                                         | 权重                  |
| ---------------------------- | ------------------------------------------------------------ | --------------------- |
| linear_velocity_tracking     | $f(v^*-v_w)$                                                 | $1\mathrm dt$         |
| linear_position_tracking     | $f(x^*-x_w)$                                                 | $1\mathrm dt$         |
| angular_velocity_penalty     | $-[\boldsymbol \omega_{b,x}^2,\boldsymbol \omega_{b,y}^2,\boldsymbol \omega_{b,z}^2]$ | $[1,1,1]^T\mathrm dt$ |
| attitude_tracking            | $f([\psi^*-\psi,\phi^*-\phi,\gamma^*-\gamma])$               | $[1,1,1]^T\mathrm dt$ |
| base_hight_tracking          | $f(h^*-h)$                                                   | $1\mathrm dt$         |
| base_velocity_penalty        | $-\dot h^2$                                                  | $1\mathrm dt$         |
| leg_alpha_penalty            | $-\boldsymbol \alpha^2$                                      | $1\mathrm dt$         |
| leg_alpha_difference_penalty | $-f(\boldsymbol \alpha_l - \boldsymbol \alpha_r)$            | $1\mathrm dt$         |
| energy_penalty               | $-[\boldsymbol T^2,\boldsymbol T_p^2,\boldsymbol F^2]$       | $[1,1,1]^T\mathrm dt$ |

